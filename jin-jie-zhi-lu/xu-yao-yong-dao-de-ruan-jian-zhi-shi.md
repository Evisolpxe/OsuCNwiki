# 需要用到的软件知识


### 1.数位板驱动
### 2.降低输入延迟
### 3.直播

### 4.音频延迟
####介绍
+ 当前osu!版本使用DirectSound作为音频输出的API。DirectSound的缓冲区长度由Windows控制，会导致音效和音频一起晚40ms播放，可以认为不可修改。
+ 由于osu的帧采样特性，音效也是按帧播放的（上一帧点击，下一帧播放音效），帧率过低的情况会导致音效延迟并且错位。
####影响
+ 由于音频的错位，我们需要在节拍响起之前的40ms按键（这里暂时忽视帧数导致的输入延迟），对于听力敏感的玩家来说会影响游戏体验。
+ 点击音效本来应该是提供点击回馈的一部分，它反馈迟钝将影响到下一个物件的点击,40ms音效延迟的概念是一次正常点击时手指完全抬起来音效才会响，有些人很难在音效响起之前就把手指抬起来，**而这对更高bpm的复杂节奏产生一定影响**。

当然上述影响固然是因人而异的，有些人这个症状比较轻微。
####解决办法
令人难过的是，osu并不支持任何低延迟音效组件(coreaudio/wasapi/asio)，而coreaudio和asio更是可以配合专业声卡达到5ms以内的音频延迟，这将对游戏体验有极大的提升。

这个问题很久以前就提出来过，ppy对要求他加上asio的态度比较搞笑（他认为从键盘到音效响起的录音并不能说明问题，然而他又不自己给出测试方法，而且他也认为asio没有卵用）。即使到了lazer也不会用上能支持asio/wasapi的osu，请大家尽可能死心。

虽然我们不能真的拿枪怼他脸上逼着他做asio输出，但是对音效延迟忍无可忍的朋友可以尝试以下内容。

+ linux下用wine运行osu，调整wine的DirectSound Buffer，最低可致13ms左右，远低于windows的40ms。有完善的方案，但是这样的音频输出质量极差，基本不能听。
+ **关闭音效，全局-40ms，听按键盘的声音打图。**
+ 推荐使用real.exe，可以稍微降低一点DirectSound延迟到30ms。差距比较小但是仍然有用。

**real.exe 使用说明：**

右键点击此电脑 -> 选择“管理” -> 选择左侧“设备管理器” -> 展开“音频输入和输出” -> 右键点击你的音频输出设备，选择“更新驱动程序和软件” -> “浏览计算机以查找...” -> “从计算机的设备驱动程序列表中选取...” -> “通用软件设备” -> 保存

开启real.exe即可。

####注意事项
+ osu!无论如何也不会通过asio接口输出的，而asio声卡跑DirectSound的延迟比板载声卡更高，一块Focusrite 2i4声卡甚至跑出了85ms的延迟。
+ 不听音效也不能提高音频格式（位数和采样），osu最佳运行是16bit 44100hz，高于此格式均需要重采样，由于游戏的每帧采样特性，音频重采样会造成帧延迟，体现于光标变拖。
+ 不使用的音频硬件请禁用，例如显卡的音频输出。


### 5.使用osu!提供的数据进行开发

